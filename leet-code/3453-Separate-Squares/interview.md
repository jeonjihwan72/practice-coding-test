# 코드 인터뷰

## 고안한 방법

- 문제를 처음 보았을 때는 정수 범위의 좌표값들을 보고 2차원 리스트를 작성하여 각 좌표에 위에 있는 사각형의 개수를 매핑하는 방식을 고안하였으나 이 방법에는 크게 두 개의 문제점이 있었다.
  - 첫 번째, 좌표의 범위가 축마다 `10^9`로 매우 크기에 담을 수 있는 맵의 크기가 한정되어 있다.
  - 두 번째, 이번 문제의 답인 기준선의 좌표값이 정수가 아닌 실수이다. 맵 형태로 나타내는 것은 실수인 기준선이 구간 형태로 지정되고 특정할 수 없다는 단점이 있었다.
- 그 다음 고안한 방법이 이번 문제 풀이에서 사용된 방법으로 각각의 사각형을 독립적으로 보아 각 사각형들의 기준선 아래의 면적의 합이 전체 면적의 1/2가 되는지 확인하는 방법이다.
- 기준선 아래의 면적을 계산하는 방법은 3개의 분기점으로 나타낼 수 있다.
  1. 윗변의 y좌표가 기준선보다 아래인 경우
     - 사각형 변의 길이의 제곱(사각형의 전체 면적)을 임시 영역 넓이에 더한다.
  2. 아랫변의 y좌표가 기준선보다 위인 경우
     - 이 사각형에 대한 별도의 연산을 하지 않는다.
     - 총 면적 계산에는 포함된다.
  3. 기준선의 y좌표가 아랫변과 윗변의 중간인 경우
     - 아랫변과 기준선 사이의 길이(높이)와 변의 길이를 곱한다. (기준선 아래의 면적)
- 기준선 아래 면적이 계산되었다면 다음 2개의 분기에 따라 재귀적으로 함수가 실행된다.
  1. 기준선 아래 면적이 총 면적의 절반보다 큰 경우
     - 기준선을 이전 기준선과 최하단 변의 중간 지점으로 설정한다.
     - 최상단 변을 기존 기준선으로 지정한다. (재귀적인 이분법을 사용하기 위해 설정)
  2. 기준선 아래 면적이 총 면적의 절반보다 작은 경우
     - 기준선을 이전 기준선과 최상단 변의 중간 지점으로 설정한다.
     - 최하단 변을 기존 기준선으로 지정한다. (재귀적인 이분법을 사용하기 위해 설정)

> 처음에는 `if a == b` 형태로 재귀문을 조기 종료하려 했으나 문제의 `Find the minimum y-coordinate value of a horizontal line` 부분에 어긋나게 출력이 나왔다.

## 오답노트

### 1. 파이썬 문법 및 환경의 이해

- 자료형 선언 금지: 파이썬은 다른 언어와 다르게 `float x = 0.0`처럼 타입을 명시하지 않고 `x = 0.0` 형태로 간결하게 나타낸다.

  - 다른 언어를 사용하다가 왔을 때 혼동하지 않도록 주의할 것.

- `self.` 참조: `global` 키워드가 함수 외부의 변수를 사용하는 키워드는 맞으나 클래스 내에서 사용하기에는 부적합하다. 클래스 내부 메서드나 변수를 부를 때는 반드시 `self.method()` 혹은 `self.value` 형식을 사용해야 한다.

### 2. 부동 소수점 처리

- `==` 연산을 활용한 비교 금지: 컴퓨터는 소수점을 미세한 오차와 함께 저장한다. 이번 문제의 경우 `area == goal`이 절대적으로 만족하지 않아 `RuntimeError: maximum recursion depth exceeded`가 발생할 위험이 있다.

  - 특히나 이러한 위험성은 재귀에서 돋보이므로 주의해야 한다.

- 반복 횟수 지정: 위의 사항에 대한 대비책 중 한 가지로 단순히 조건문을 활용한 탈출 방식 대신에 **80 ~ 100회 반복**하는 방식을 사용하여 `10^-5` 오차 범위내에 정밀하게 만족시킬 수 있다.
  - 코딩테스트에서 사용을 권하는 방식

### 3. 이분 탐색의 세밀한 로직

- 최소값 조건의 처리: 면적을 이등분하는 선이 범위 형태로 존재할 때, 가장 낮은 선을 찾으려면 면적이 조건을 만족하더라도 더 아래쪽을 탐색하도록 범위를 계속해서 좁혀나가야 한다.

- 재귀 반환값: 재귀 함수를 구현할 때 단순히 `return`만 작성할 경우 최종결과가 `None`이 되는 현상이 발생한다 이를 막기 위해서 가장 깊은 곳에서 계산된 값을 다시 위로 올려줄 수 있도록 `return self.separateSquare(squares)`처럼 전달해줘야 한다.
